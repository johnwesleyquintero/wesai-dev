<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WesAI.Dev</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='faviconGrad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%234f46e5;'/%3E%3Cstop offset='100%25' style='stop-color:%2306b6d4;'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='32' height='32' rx='6' fill='url(%23faviconGrad)'/%3E%3Cpath d='M8 10 L12 22 L16 12 L20 22 L24 10' stroke='white' stroke-width='3' fill='none' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://unpkg.com">
    <link rel="preconnect" href="https://aistudiocdn.com">
    <link rel="preconnect" href="https://esm.sh">
    <!-- Changed font to Inter for a more modern UI feel -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap"></noscript>
    <!-- Syntax Highlighting Themes -->
    <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.min.css">
    <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" disabled>
    <link rel="stylesheet" href="/styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Prevents theme flicker on page load by applying the saved theme before React mounts.
        (function() {
            try {
                const theme = localStorage.getItem('theme');
                const isDark = theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches);
                if (isDark) {
                    document.documentElement.classList.add('dark');
                    // FIX: Also manage syntax highlighting themes to prevent code block flicker.
                    const lightHljs = document.getElementById('hljs-light');
                    const darkHljs = document.getElementById('hljs-dark');
                    if (lightHljs) lightHljs.disabled = true;
                    if (darkHljs) darkHljs.disabled = false;
                }
            } catch (e) { /* ignore */ }
        })();
    </script>
    <script>
        tailwind.config = {
          darkMode: 'class', // Enable class-based dark mode
          theme: {
            extend: {
              fontFamily: {
                // Changed font to Inter
                sans: ['Inter', 'sans-serif'],
                mono: ['JetBrains Mono', 'monospace'],
              },
              transitionDuration: {
                'fast': 'var(--timing-fast)',
                'normal': 'var(--timing-normal)',
                'slow': 'var(--timing-slow)',
              },
              transitionTimingFunction: {
                'ease-out-quad': 'var(--ease-out-quad)',
              },
              keyframes: {
                'indeterminate-progress': {
                  '0%': { backgroundPosition: '200% center' },
                  '100%': { backgroundPosition: '-200% center' },
                },
              },
              animation: {
                'indeterminate-progress': 'indeterminate-progress 2s infinite linear',
              },
            },
          },
        }
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.28.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "pako": "https://esm.sh/pako@2.1.0",
    "highlight.js/lib/core": "https://esm.sh/highlight.js@11.9.0/lib/core",
    "highlight.js/lib/languages/typescript": "https://esm.sh/highlight.js@11.9.0/lib/languages/typescript",
    "highlight.js/": "https://aistudiocdn.com/highlight.js@^11.11.1/"
  }
}
</script>
</head>
<body class="font-sans bg-slate-50 dark:bg-slate-950 animate-fade-in transition-colors duration-normal">
    <div id="root">
        <!-- React will render here -->
    </div>
    <!-- Preloader: This sits on top of the app and is controlled by React -->
    <div id="app-preloader" class="preloader">
        <div class="preloader-spinner">
            <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" class="spinner-track">
                <circle cx="16" cy="16" r="14" fill="none" stroke-width="2.5" stroke-dasharray="60 100" stroke-linecap="round"></circle>
            </svg>
            <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" class="spinner-logo">
                <defs>
                    <linearGradient id="preloaderGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#4f46e5"></stop>
                        <stop offset="100%" style="stop-color:#06b6d4"></stop>
                    </linearGradient>
                </defs>
                <path d="M8 10 L12 22 L16 12 L20 22 L24 10" stroke="url(#preloaderGrad)" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </div>
    </div>
    <script type="module" src="/index.tsx"></script>
</body>
</html>